---
// Componente Astro: Banner de aviso de desarrollo
---

<!-- Banner oculto inicialmente -->
<div
  id="dev-banner"
  style="display: none;"
  class="fixed bottom-5 left-1/2 -translate-x-1/2 z-[999] shadow-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white p-4 rounded-lg flex items-center gap-4 w-[90%] max-w-md border border-gray-200 dark:border-gray-700"
>
  <div class="flex-1">
    <p class="text-sm font-medium text-red-500">Atención</p>
    <p class="text-xs mt-1">
      Esta web está en desarrollo. Puede que no funcione como se espera.
    </p>
  </div>
  <button
    id="dev-banner-close"
    class="px-3 py-1 text-xs font-medium bg-gray-900 text-white dark:bg-gray-100 dark:text-gray-900 rounded-md transition hover:opacity-80"
  >
    Entendido
  </button>
</div>

<script>
  const banner = document.getElementById("dev-banner");
  // Solo mostramos el banner si el usuario no lo ha cerrado previamente.
  if (banner && localStorage.getItem("hideBanner") !== "true") {
    banner.style.display = "flex";
  }
  const closeBtn = document.getElementById("dev-banner-close");
  if (closeBtn) {
    closeBtn.addEventListener("click", () => {
      localStorage.setItem("hideBanner", "true");
      if (banner) {
        banner.style.display = "flex";
      }
    });
  }
</script>
